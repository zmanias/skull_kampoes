<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tentang Malaka Muda</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Navbar -->
<header>
  <div class="navbar">
    <div class="logo">
      <a href="index.html"><img src="img/logo.png" alt="Logo Malaka Muda"></a>
    </div>
    
    <div class="menu-toggle" id="menu-toggle">
      &#9776; </div>

    <ul class="nav-links" id="nav-links">
      <li><a href="index.html">Beranda</a></li>
      <li><a href="about.html">Tentang</a></li>
      <li><a href="program.html">Program</a></li>
      <li><a href="galeri.html">Galeri</a></li>
      <li><a href="register.html">Daftar Seminar</a></li>
    </ul>
  </div>
</header>


  <!-- Konten -->
  <main class="content">
    <section>
      <h1>Latar Belakang</h1>
      <p><strong>Malaka Muda</strong> adalah komunitas independen yang lahir dari keresahan sekaligus harapan. Kami tidak terafiliasi dengan partai politik, lembaga, atau organisasi manapun. Terinspirasi oleh semangat pemikiran Tan Malaka, kami menolak tunduk pada arus kebodohan dan ketidakadilan. Kami menyalakan kembali api kesadaran â€” bahwa berpikir kritis dan bertindak rasional adalah langkah pertama menuju perubahan nyata.</p>
    </section>

    <section>
      <h1>Semangat & Tujuan</h1>
      <p>Tujuan kami sederhana tapi mendalam: menghidupkan kembali gagasan Tan Malaka dalam dunia modern. Kami ingin menanamkan kesadaran berpikir kritis agar setiap individu mampu melihat dunia dengan logika, bukan sekadar opini.</p>
    </section>

    <section>
      <h1>Bidang Gerak Kami</h1>
      <ul>
        <li><strong>Edukasi â€”</strong> Membangun ruang belajar alternatif untuk generasi muda.</li>
        <li><strong>Sosial â€”</strong> Bergerak langsung dalam aksi sosial dan solidaritas lintas komunitas.</li>
        <li><strong>Literasi â€”</strong> Mendukung kegiatan sosial dan pendidikan berbasis kesadaran kritis.</li>
      </ul>
    </section>

    <section>
      <h1>Struktur Pengurus</h1>
      <div class="team">
        <div class="member">
          <img src="img/foto_herdandi.jpg" alt="Herdandi Dwi Putra">
          <h3>Herdandi Dwi Putra, Amd. Kom</h3>
          <p>Founder & BOD Program</p>
        </div>
        <div class="member">
          <img src="img/foto_fajri.jpg" alt="Fajri Ramadhan">
          <h3>Fajri Ramadhan, S.AB</h3>
          <p>Founder & BOD HRD Officer</p>
        </div>
        <div class="member">
          <img src="img/foto_ibrahim.jpg" alt="Maulana Ibrahim Sandra">
          <h3>Maulana Ibrahim Sandra</h3>
          <p>Founder & BOD Relation Officer</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>Â© 2025 Malaka Muda Indonesia. All Rights Reserved.</p>
  </footer>
<script>
  const menuToggle = document.getElementById('menu-toggle');
  const navLinks = document.getElementById('nav-links');

  menuToggle.addEventListener('click', () => {
    navLinks.classList.toggle('active');
  });
</script>
<div class="chat-window" id="chatWindow">
  <div class="chat-header">
    <div style="display: flex; align-items: center; gap: 10px;">
      <span>ðŸ¤– Malaka AI Assistant</span>
    </div>
    <span class="chat-close" onclick="toggleChat()">âœ–</span>
  </div>
  
  <div class="chat-body" id="chatBody">
    <div class="message ai">Halo! Saya asisten AI Malaka Muda. Ada yang bisa saya bantu terkait program atau seminar kami?</div>
  </div>
  
  <div class="typing" id="typingIndicator">Sedang mengetik...</div>

  <div class="chat-footer">
    <input type="text" id="chatInput" class="chat-input" placeholder="Tulis pertanyaan..." onkeypress="handleEnter(event)">
    <button class="chat-send" id="sendBtn" onclick="sendMessage()">âž¤</button>
  </div>
</div>

<div class="fab-container" id="fabContainer">
  <div class="fab-main" onclick="toggleFab()">
    <span id="fabIcon">+</span>
  </div>
  
  <div class="fab-sub" data-tooltip="Tanya AI" onclick="toggleChat()">
    <span>ðŸ¤–</span>
  </div>
  
  <div class="fab-sub" data-tooltip="WhatsApp Admin" onclick="window.open('https://wa.me/6285881735230', '_blank')">
    <span>ðŸ“±</span>
  </div>
</div>

<script>
  // === FAB CONTROLLER ===
  function toggleFab() {
    const container = document.getElementById('fabContainer');
    const icon = document.getElementById('fabIcon');
    
    container.classList.toggle('open');
    const isActive = container.classList.contains('open');
    
    // Ganti ikon + jadi x
    if (isActive) {
      document.querySelector('.fab-main').classList.add('active');
    } else {
      document.querySelector('.fab-main').classList.remove('active');
    }
  }

  // === CHAT WINDOW CONTROLLER ===
  function toggleChat() {
    const chatWindow = document.getElementById('chatWindow');
    chatWindow.classList.toggle('show');
    
    // Tutup menu FAB jika chat dibuka agar bersih
    document.getElementById('fabContainer').classList.remove('open');
    document.querySelector('.fab-main').classList.remove('active');
  }

  function handleEnter(e) {
    if (e.key === 'Enter') sendMessage();
  }

  // === AI API INTEGRATION ===
  async function sendMessage() {
    const inputField = document.getElementById('chatInput');
    const sendBtn = document.getElementById('sendBtn');
    const chatBody = document.getElementById('chatBody');
    const typing = document.getElementById('typingIndicator');
    
    const text = inputField.value.trim();
    if (!text) return;

    // 1. Tampilkan Pesan User
    appendMessage(text, 'user');
    inputField.value = '';
    
    // 2. Set Loading State
    sendBtn.disabled = true;
    typing.style.display = 'block';
    chatBody.scrollTop = chatBody.scrollHeight; // Auto scroll ke bawah

    try {
      // 3. Panggil API Fandirr
      const response = await fetch(`https://api.fandirr.my.id/ai/gpt?prompt=${encodeURIComponent(text)}&model=gpt-3.5-turbo`);
      const data = await response.json();

      // 4. Proses Respon
      typing.style.display = 'none';
      sendBtn.disabled = false;

      if (data.status === 'success' && data.result && data.result.reply) {
        appendMessage(data.result.reply, 'ai');
      } else {
        appendMessage("Maaf, saya sedang gangguan. Coba lagi nanti ya.", 'ai');
      }

    } catch (error) {
      console.error('Error:', error);
      typing.style.display = 'none';
      sendBtn.disabled = false;
      appendMessage("Koneksi gagal. Periksa internet Anda.", 'ai');
    }
  }

  function appendMessage(text, sender) {
    const chatBody = document.getElementById('chatBody');
    const div = document.createElement('div');
    div.classList.add('message', sender);
    
    // Konversi baris baru (\n) menjadi <br> agar rapi
    div.innerHTML = text.replace(/\n/g, '<br>');
    
    chatBody.appendChild(div);
    chatBody.scrollTop = chatBody.scrollHeight;
  }
</script>
</body>
</html>